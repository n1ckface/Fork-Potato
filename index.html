<!DOCTYPE html>
<html>
  <head>

  </head>
  <body>
    <button onclick="saveData()">Save Data</button>
    <button onclick="printData()">Print Data</button>
    <button onclick="printData2()">Print Data2</button>

    <script src="https://cdn.firebase.com/js/client/2.3.1/firebase.js"></script>
    <script>
       var ref = new Firebase("https://project-fork-and-potato.firebaseio.com");
      var usersRef = ref.child("users");
      function saveData(){
        usersRef.push({

            id: "chen",
            pw: "54321"

        });
      }
      function printData(){
        usersRef.on("value", function(snapshot) {
          console.log(snapshot.val());
        }, function (errorObject) {
          console.log("The read failed: " + errorObject.code);
        });
      }
      function printData2(){
        ref.child("users/gracehop/date_of_birth").on("value", function(snapshot) {
          window.alert(snapshot.val()); // "December 9, 1906"
        }, function (errorObject) {
          console.log("The read failed: " + errorObject.code);
        });
      }
	  
	  ref.on('child_added', function(s) { console.log(s.key()); });
usersRef.on('value', function(s) { 

	console.log(s.val());
});


var email = "simon";
var query = usersRef.orderByChild("id").equalTo(email);

query.on("child_added", function(snapshot) {

        ref.child("users/" + snapshot.key() + "/pw").on("value", function(sn) {
          window.alert(sn.val()); 
        }, function (errorObject) {
          console.log("The read failed: " + errorObject.code);
        });
});

    </script>
  </body>
</html>
